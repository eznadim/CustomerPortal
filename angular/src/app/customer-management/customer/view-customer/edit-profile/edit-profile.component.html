<div class="modal-header">
  <h5 class="modal-title">Edit Profile</h5>
  <button type="button" class="close" (click)="onCancel()">
    <span>&times;</span>
  </button>
</div>

<form [formGroup]="editForm" (ngSubmit)="onSave()">
  <div class="modal-body">
    <div class="form-group">
      <label for="customerName">Name</label>
      <input
        type="text"
        class="form-control"
        id="customerName"
        formControlName="customerName"
        [class.is-invalid]="f.customerName.touched && f.customerName.invalid"
      />
      <div class="invalid-feedback" *ngIf="f.customerName.touched && f.customerName.errors">
        <div *ngIf="f.customerName.errors?.['required']">Name is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        class="form-control"
        id="email"
        formControlName="email"
        [class.is-invalid]="f.email.touched && f.email.invalid"
      />
      <div class="invalid-feedback" *ngIf="f.email.touched && f.email.errors">
        <div *ngIf="f.email.errors?.['required']">Email is required</div>
        <div *ngIf="f.email.errors?.['email']">Please enter a valid email</div>
      </div>
    </div>

    <div class="form-group">
      <label>Address</label>
      <input
        type="text"
        class="form-control"
        id="address"
        formControlName="address"
        [class.is-invalid]="f.address.touched && f.address.invalid"
      />
      <div class="invalid-feedback" *ngIf="f.address.touched && f.address.errors">
        <div *ngIf="f.address.errors?.['required']">Address is required</div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
    <button 
      type="submit" 
      class="btn btn-primary" 
      [disabled]="editForm.invalid || isModalBusy"
    >
      <span *ngIf="isModalBusy" class="spinner-border spinner-border-sm mr-1"></span>
      {{ isModalBusy ? 'Saving...' : 'Save Changes' }}
    </button>
  </div>
</form>
